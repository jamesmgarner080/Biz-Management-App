{'role': 'assistant', 'content': '<function_calls>\n<str-replace file_path="backend/database.js">\n<old_str>    async createDefaultAdmin() {\n        try {\n            const existingAdmin = this.db.prepare(\'SELECT id FROM users WHERE username = ?\').get(\'admin\');\n            \n            if (!existingAdmin) {\n                const password = process.env.DEFAULT_ADMIN_PASSWORD || \'admin123\';\n                const passwordHash = await bcrypt.hash(password, 10);\n                \n                this.db.prepare(`\n                    INSERT INTO users (username, password_hash, role, full_name, email)\n                    VALUES (?, ?, ?, ?, ?)\n                `).run(\'admin\', passwordHash, \'management\', \'System Administrator\', \'admin@example.com\');\n                \n                console.log(\'Default admin user created\');\n                console.log(\'Username: admin\');\n                console.log(\'Password: admin123\');\n                console.log(\'PLEASE CHANGE THE PASSWORD IMMEDIATELY!\');\n            }\n        } catch (error) {\n            console.error(\'Error creating default admin:\', error.message);\n        }\n    }</old_str>\n<new_str>    async createDefaultAdmin() {\n        try {\n            const existingAdmin = this.db.prepare(\'SELECT id FROM users WHERE username = ?\').get(\'admin\');\n            \n            if (!existingAdmin) {\n                const password = process.env.DEFAULT_ADMIN_PASSWORD || \'admin123\';\n                const passwordHash = await bcrypt.hash(password, 10);\n                \n                this.db.prepare(`\n                    INSERT INTO users (username, password_hash, role, full_name, email)\n                    VALUES (?, ?, ?, ?, ?)\n                `).run(\'admin\', passwordHash, \'admin\', \'System Administrator\', \'admin@example.com\');\n                \n                console.log(\'Default admin user created\');\n                console.log(\'Username: admin\');\n                console.log(\'Password: admin123\');\n                console.log(\'PLEASE CHANGE THE PASSWORD IMMEDIATELY!\');\n            } else {\n                // Update existing admin to new role if needed\n                this.db.prepare(\'UPDATE users SET role = ? WHERE username = ? AND role = ?\')\n                    .run(\'admin\', \'admin\', \'management\');\n            }\n        } catch (error) {\n            console.error(\'Error creating default admin:\', error.message);\n        }\n    }</new_str>\n</str-replace>\n</function_calls>'}