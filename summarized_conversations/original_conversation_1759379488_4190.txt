{'role': 'assistant', 'content': 'Now let\'s add the dark mode functionality to app.js:\n\n<function_calls>\n<str-replace file_path="frontend/js/app.js">\n<old_str>// Initialize app\ndocument.addEventListener(\'DOMContentLoaded\', async () => {\n    // Get current user\n    currentUser = getCurrentUser();\n    \n    if (!currentUser) {\n        logout();\n        return;\n    }\n    \n    // Update UI with user info\n    document.getElementById(\'userName\').textContent = currentUser.full_name;\n    document.getElementById(\'userRole\').textContent = currentUser.role;</old_str>\n<new_str>// Initialize app\ndocument.addEventListener(\'DOMContentLoaded\', async () => {\n    // Get current user\n    currentUser = getCurrentUser();\n    \n    if (!currentUser) {\n        logout();\n        return;\n    }\n    \n    // Initialize theme\n    initializeTheme();\n    \n    // Update UI with user info\n    document.getElementById(\'userName\').textContent = currentUser.full_name;\n    document.getElementById(\'userRole\').textContent = currentUser.role;</new_str>\n</str-replace>\n</function_calls>'}